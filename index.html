<form id="formulario">
  <input type="text" name="nombreApellido" placeholder="Nombre y Apellido" required />
  <input type="number" name="edad" placeholder="Edad" required />
  
  <select name="sexo" required>
    <option value="" disabled selected>Sexo</option>
    <option value="Femenino">Femenino</option>
    <option value="Masculino">Masculino</option>
    <option value="Otro">Otro</option>
  </select>

  <select name="ejercicio" required>
    <option value="" disabled selected>Ejercicio</option>
    <option value="Sentadillas">Sentadillas</option>
    <option value="Flexiones">Flexiones</option>
    <option value="Abdominales">Abdominales</option>
  </select>

  <button type="submit">Enviar</button>
</form>

<script>
  document.getElementById("formulario").addEventListener("submit", async (e) => {
    e.preventDefault();

    const form = e.target;
    const datos = {
      nombreApellido: form.nombreApellido.value,
      edad: parseInt(form.edad.value),
      sexo: form.sexo.value,
      ejercicio: form.ejercicio.value,
      fechaHora: new Date().toISOString()
    };

    const backendURL = "https://exciting-intuition-production.up.railway.app/enviar-datos"; // ← pegá tu URL acá

    try {
      const res = await fetch(backendURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(datos)
      });

      const respuesta = await res.json();
      alert(respuesta.mensaje || "Datos enviados");
      form.reset();
    } catch (err) {
      alert("Error al enviar los datos");
      console.error(err);
    }
  });
</script>
